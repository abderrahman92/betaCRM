(this["webpackJsonptua-react-admin"]=this["webpackJsonptua-react-admin"]||[]).push([[0],{131:function(e,t,a){},151:function(e){e.exports=JSON.parse('[{"display_name":"Tableau de bord","route":"/","icon":"bx bx-category-alt","status":"desactive"},{"display_name":"Soci\xe9t\xe9s","route":"/Societes","icon":"bx bxs-bank","status":"desactive"},{"display_name":"Nouvelle Soci\xe9t\xe9","route":"/ajouter","icon":"bx bxs-folder-plus","status":"desactive"},{"display_name":"Interlocuteur","route":"/Interlocuteurs","icon":"bx bx-user-pin","status":"desactive"},{"display_name":"Contrat","route":"/Contrats","icon":"bx bxs-book-content","status":"desactive"},{"display_name":"Action","route":"/Action","icon":"bx bx-bar-chart-alt","status":"desactive"},{"display_name":"Parametre","route":"/Parametre","icon":"bx bx-cog","status":"desactive"},{"display_name":"Connexion","route":"/login","icon":"bx bx-log-in","status":"active"},{"display_name":"Gestion Utilisateur","route":"/Register","icon":"bx bxs-user-plus","status":"desactive"}]')},153:function(e){e.exports=JSON.parse('[{"icon":"bx bx-error","content":"Curabitur id eros quis nunc suscipit blandit"},{"icon":"bx bx-package","content":"Duis malesuada justo eu sapien elementum, in semper diam posuere"},{"icon":"bx bx-cart","content":"Donec at nisi sit amet tortor commodo porttitor pretium a erat"},{"icon":"bx bx-error","content":"In gravida mauris et nisi"},{"icon":"bx bx-cart","content":"Curabitur id eros quis nunc suscipit blandit"}]')},154:function(e){e.exports=JSON.parse('[{"icon":"bx bx-user","content":"Profile"},{"icon":"bx bx-wallet-alt","content":"My Wallet"},{"icon":"bx bx-cog","content":"Settings"},{"icon":"bx bx-log-out-circle bx-rotate-180","content":"Logout"}]')},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(21),r=a.n(s),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,440)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},l=a(90),o=a(52),d=a(25),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return Object(d.a)(Object(d.a)({},e),{},{mode:t.payload});case"SET_COLOR":return Object(d.a)(Object(d.a)({},e),{},{color:t.payload});default:return e}},b=Object(l.a)({ThemeReducer:j}),u=(a(186),a(187),a(188),a(189),a(190),a(191),a(20)),h=a(7),m=a(33),O=(a(192),a(29)),x=a(26),v=a(16),g=a.n(v),f="http://localhost:8080/api/auth/",p=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"login",value:function(e,t){return g.a.post(f+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"create_historique_auth",value:function(e,t,a){return g.a.post(f+"historique",{username:e,password:t,message:a})}},{key:"get_historique_auth",value:function(){return g.a.get(f+"list_historique")}},{key:"removeAll_historique_auth",value:function(){return g.a.delete(f+"list_historique")}},{key:"remove_historiqueremove",value:function(e){return g.a.delete(f+"list_historique/".concat(e))}},{key:"register",value:function(e,t,a,c){return g.a.post(f+"signup",{username:e,email:t,roles:a,password:c})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}());function N(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var _="http://localhost:8080/api/test/",y=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"getListe_User",value:function(){return g.a.get(_+"liste_user")}},{key:"getPublicContent",value:function(){return g.a.get(_+"all")}},{key:"getCemecaBoard",value:function(){return g.a.get(_+"cemeca",{headers:N()})}},{key:"getSofitechBoard",value:function(){return g.a.get(_+"sofitech",{headers:N()})}},{key:"getModeratorBoard",value:function(){return g.a.get(_+"mod",{headers:N()})}},{key:"getAdminBoard",value:function(){return g.a.get(_+"admin",{headers:N()})}}]),e}()),C={on:function(e,t){document.addEventListener(e,(function(e){return t(e.detail)}))},dispatch:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:function(e,t){document.removeEventListener(e,t)}},S=a.p+"static/media/sofitech.28261e02.png",E=a.p+"static/media/logo-cemeca.d528d253.png",k=a(151),F=(new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"findAll",value:function(){return g.a.get("http://localhost:8080/api/auth/role")}}]),e}()),a(1)),M=function(e){var t=e.desactive?"":"desactive";return Object(F.jsx)("div",{className:"sidebar__item",children:Object(F.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ".concat(t),children:[Object(F.jsx)("i",{className:e.icon}),Object(F.jsxs)("span",{children:[e.title,e.status]})]})})},I=function(e){var t=e.active?"active":"";return Object(F.jsx)("div",{disabled:!0,className:"sidebar__item",children:Object(F.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ".concat(t),children:[Object(F.jsx)("i",{className:e.icon}),Object(F.jsxs)("span",{children:[e.title,e.status]})]})})},T=function(){p.logout()},P=function(e){var t=e.active?"active":"",a=Object(c.useState)(k),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(void 0),l=Object(h.a)(i,2),o=l[0],d=l[1],j=Object(c.useState)(void 0),b=Object(h.a)(j,2),O=(b[0],b[1]),x=Object(c.useState)([]),v=Object(h.a)(x,2),g=v[0],f=v[1],N=Object(c.useState)(void 0),_=Object(h.a)(N,2),P=_[0],w=_[1],A=p.getCurrentUser(),R=function(){A&&y.getCemecaBoard().then((function(e){w(!0),f(e.data)}),(function(e){w(!1),f({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}))};console.log(g),Object(c.useEffect)((function(){var e=p.getCurrentUser();if(e){R();var t=Object(u.a)(s);y.getAdminBoard().then((function(e){t[7].status="desactive",t[2].status="active",t[8].status="active",O({content:e.data})}),(function(e){O({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}),e.response&&401===e.response.status&&C.dispatch("logout")})),t[7].status="desactive",t[0].status="active",t[2].status="active",t[1].status="active",r(t),d(e)}}),[]);var Y=s.findIndex((function(t){return t.route===e.location.pathname})),L=s.filter((function(e){return"desactive"===e.status})),U=s.filter((function(e){return"active"===e.status}));console.log(s),console.log(U);return Object(F.jsxs)("div",{className:"sidebar",children:[Object(F.jsx)("div",{className:"sidebar__logo",children:!0===P?Object(F.jsx)("img",{src:E,alt:"company logo"}):Object(F.jsx)("img",{src:S,alt:"company logo"})}),U.map((function(e,t){return Object(F.jsx)(m.b,{to:e.route,children:Object(F.jsx)(I,{title:e.display_name,icon:e.icon,active:t===Y})},t)})),", ,",o?Object(F.jsxs)("div",{children:[L.map((function(e,t){return Object(F.jsx)(M,{title:e.display_name,icon:e.icon,active:t===Y})})),Object(F.jsx)("div",{className:"sidebar__item",children:Object(F.jsxs)("div",{className:"sidebar__item-inner".concat(t),children:[Object(F.jsx)("i",{className:"bx bxs-log-out"}),Object(F.jsx)("a",{href:"/login",className:"nav-link",onClick:T,children:"D\xe9connexion"})]})})]}):Object(F.jsx)("div",{className:"sidebar__item"})]})},w=(a(131),a(217),function(e){var t,a,n=Object(c.useRef)(null),s=Object(c.useRef)(null);return t=s,a=n,document.addEventListener("mousedown",(function(e){a.current&&a.current.contains(e.target)?t.current.classList.toggle("active"):t.current&&!t.current.contains(e.target)&&t.current.classList.remove("active")})),Object(F.jsxs)("div",{className:"dropdown",children:[Object(F.jsxs)("button",{ref:n,className:"dropdown__toggle",children:[e.icon?Object(F.jsx)("i",{className:e.icon}):"",e.badge?Object(F.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),Object(F.jsxs)("div",{ref:s,className:"dropdown__content",children:[e.contentData&&e.renderItems?e.contentData.map((function(t,a){return e.renderItems(t,a)})):"",e.renderFooter?Object(F.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})}),A=(a(218),{setColor:function(e){return{type:"SET_COLOR",payload:e}},setMode:function(e){return{type:"SET_MODE",payload:e}},getTheme:function(){return{type:"GET_THEME"}}}),R=[{id:"light",name:"Light",background:"light-background",class:"theme-mode-light"},{id:"dark",name:"Dark",background:"dark-background",class:"theme-mode-dark"}],Y=[{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"},{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"}],L=function(){var e,t,a=p.getCurrentUser(),n=Object(c.useRef)(null),s=Object(c.useRef)(null);e=n,t=s,document.addEventListener("mousedown",(function(a){t.current&&t.current.contains(a.target)?e.current.classList.toggle("active"):e.current&&!e.current.contains(a.target)&&e.current.classList.remove("active")}));var r=Object(c.useState)("light"),i=Object(h.a)(r,2),l=i[0],d=i[1],j=Object(c.useState)("blue"),b=Object(h.a)(j,2),u=b[0],m=b[1],O=Object(o.b)();return Object(c.useEffect)((function(){var e=R.find((function(e){return e.class===localStorage.getItem("themeMode","theme-mode-light")})),t=Y.find((function(e){return e.class===localStorage.getItem("colorMode","theme-mode-light")}));void 0!==e&&d(e.id),void 0!==t&&m(t.id)}),[]),Object(F.jsx)("div",{children:a?Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{ref:s,className:"dropdown__toggle",onClick:function(){return n.current.classList.add("active")},children:Object(F.jsx)("i",{className:"bx bx-palette"})}),Object(F.jsxs)("div",{ref:n,className:"theme-menu",children:[Object(F.jsx)("h4",{children:"Theme settings"}),Object(F.jsx)("button",{className:"theme-menu__close",onClick:function(){return n.current.classList.remove("active")},children:Object(F.jsx)("i",{className:"bx bx-x"})}),Object(F.jsxs)("div",{className:"theme-menu__select",children:[Object(F.jsx)("span",{children:"Choose mode"}),Object(F.jsx)("ul",{className:"mode-list",children:R.map((function(e,t){return Object(F.jsxs)("li",{onClick:function(){return d((t=e).id),localStorage.setItem("themeMode",t.class),void O(A.setMode(t.class));var t},children:[Object(F.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===l?"active":""),children:Object(F.jsx)("i",{className:"bx bx-check"})}),Object(F.jsx)("span",{children:e.name})]},t)}))})]}),Object(F.jsxs)("div",{className:"theme-menu__select",children:[Object(F.jsx)("span",{children:"Choose color"}),Object(F.jsx)("ul",{className:"mode-list",children:Y.map((function(e,t){return Object(F.jsxs)("li",{onClick:function(){return m((t=e).id),localStorage.setItem("colorMode",t.class),void O(A.setColor(t.class));var t},children:[Object(F.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===u?"active":""),children:Object(F.jsx)("i",{className:"bx bx-check"})}),Object(F.jsx)("span",{children:e.name})]},t)}))})]})]})]}):Object(F.jsx)("div",{})})},U=a(153),B=a(154),D=a(109),q=a.n(D),H=a(155),W=a.n(H),J=a(389),V=a(392),G=a(394),z=a(395),X=a(396),Q=a(397),K=a(398),Z=a(399),$=a(400),ee=a(401),te=a(402),ae=a(409),ce=Object(J.a)((function(e){return{table:{secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:1350},tableHeaderCell:{sx:"4",fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.secondary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,display:"inline-block"}}}));var ne=function(){var e=ce(),t=n.a.useState(0),a=Object(h.a)(t,2),s=a[0],r=(a[1],n.a.useState(10)),i=Object(h.a)(r,2),l=i[0],o=(i[1],Object(c.useState)([])),d=Object(h.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(""),m=Object(h.a)(u,2),O=m[0],x=m[1],v=p.getCurrentUser();return Object(c.useEffect)((function(){v&&(y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){b(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){b(e.data)}))})))}),[]),Object(F.jsx)("div",{children:Object(F.jsx)("div",{className:"card card-container",children:Object(F.jsxs)("div",{className:"list row",children:[Object(F.jsx)("h2",{className:" col-md-6 page-`header",children:"Liste des Soci\xe9t\xe9es"}),Object(F.jsx)("div",{className:"col-md-4 list",children:Object(F.jsx)("div",{className:"input-group mb-3",children:Object(F.jsx)("div",{className:"topnav",children:Object(F.jsxs)("div",{className:"topnav__search",children:[Object(F.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche ",value:O,onChange:function(e){var t=e.target.value;x(t);var a=j.filter((function(e){if(e.nom_soc.toLowerCase().includes(t.toLowerCase()))return e})),c=j.filter((function(e){if(String(e.code_postal).includes(t))return e})),n=j.filter((function(e){if(String(e.siret).includes(t))return e})),s=j.filter((function(e){if(String(e.siren).includes(t))return e}));0!==a.length&&(console.log(a),b(a)),0!==c.length&&(console.log(!0),b(c)),0!==n.length&&(console.log(!0),b(n)),0!==s.length&&(console.log(!0),b(s))}}),Object(F.jsx)("i",{className:"bx bx-search"})]})})})}),Object(F.jsx)("div",{className:"col-md-12 list",children:Object(F.jsx)(V.a,{component:G.a,className:e.tableContainer,children:Object(F.jsxs)(z.a,{className:e.table,"aria-label":"simple table",children:[Object(F.jsx)(X.a,{children:Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Soci\xe9t\xe9"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Adresse postal"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"nom responnsable"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Code naf"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Syndicat"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Interlocuteur"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"Action"}),Object(F.jsx)(K.a,{className:e.tableHeaderCell,children:"info"})]})}),Object(F.jsx)(Z.a,{children:j.slice(s*l,s*l+l).map((function(t){return Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{children:Object(F.jsx)($.a,{container:!0,children:Object(F.jsxs)($.a,{item:!0,lg:10,children:[Object(F.jsxs)(ee.a,{className:e.name,children:["siret: ",t.siret]}),Object(F.jsxs)(ee.a,{color:"textSecondary",variant:"body2",children:["siren: ",t.siren]}),Object(F.jsxs)(ee.a,{color:"textSecondary",variant:"body2",children:[" ",t.nom_soc]})]})})}),Object(F.jsx)(K.a,{children:Object(F.jsxs)($.a,{item:!0,lg:10,children:[Object(F.jsxs)(ee.a,{children:[" ",t.adresse_local]}),Object(F.jsxs)(ee.a,{color:"textSecondary",variant:"body1",children:[t.code_postal," ",t.ville]}),Object(F.jsx)(ee.a,{children:t.ville_soc})]})}),Object(F.jsx)(K.a,{children:t.nom_responsable_soc}),Object(F.jsx)(K.a,{children:t.activite_soc}),Object(F.jsx)(K.a,{children:t.syndicat}),Object(F.jsx)(K.a,{children:Object(F.jsx)(te.a,{href:"/Interlocuteur/".concat(t.siret),color:"primary","aria-label":"edit",children:Object(F.jsx)(q.a,{})})}),Object(F.jsx)(K.a,{children:Object(F.jsx)(te.a,{href:"/Action/".concat(t.siret),color:"primary","aria-label":"edit",children:Object(F.jsx)(q.a,{})})}),Object(F.jsx)(K.a,{children:Object(F.jsx)(te.a,{href:"/Societe/".concat(t.siret),color:"primary","aria-label":"assignmentOutlinedIcon",children:Object(F.jsx)(W.a,{})})})]},t.name)}))}),Object(F.jsx)(ae.a,{})]})})})]})})})},se={username:"Tuat Tran"},re=p.getCurrentUser(),ie=function(e){var t=Object(c.useState)(void 0),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){var e=p.getCurrentUser();e&&s(e)}),[]),Object(F.jsx)("div",{children:re?Object(F.jsxs)("div",{className:"topnav",children:[Object(F.jsx)("div",{className:"input-group mb-3",children:Object(F.jsx)("div",{className:"topnav",children:Object(F.jsx)("div",{className:"topnav__search"})})}),Object(F.jsxs)("div",{className:"topnav__right",children:[Object(F.jsx)("div",{className:"topnav__right-item",children:n?Object(F.jsx)(m.b,{children:Object(F.jsx)("div",{className:"sidebar__item",children:Object(F.jsxs)("div",{className:"sidebar__item-inner",children:[Object(F.jsx)("i",{className:"bx bxs-user-check"}),Object(F.jsx)("span",{children:n.username})]})})}):Object(F.jsx)(w,{customToggle:function(){return e=se,Object(F.jsxs)("div",{className:"topnav__right-user",children:[Object(F.jsx)("div",{className:"topnav__right-user__image",children:Object(F.jsx)("img",{src:e.image,alt:""})}),Object(F.jsx)("div",{className:"topnav__right-user__name",children:e.display_name})]});var e},contentData:B,renderItems:function(e,t){return function(e,t){return Object(F.jsx)(m.b,{to:"/",children:Object(F.jsxs)("div",{className:"notification-item",children:[Object(F.jsx)("i",{className:e.icon}),Object(F.jsx)("span",{children:e.content})]})},t)}(e,t)}})}),Object(F.jsx)("div",{className:"topnav__right-item",children:Object(F.jsx)(w,{icon:"bx bx-bell",badge:"0",contentData:U,renderItems:function(e,t){return function(e,t){return Object(F.jsxs)("div",{className:"notification-item",children:[Object(F.jsx)("i",{className:e.icon}),Object(F.jsx)("span",{children:e.content})]},t)}(e,t)},renderFooter:function(){return Object(F.jsx)(m.b,{to:"/",children:"View All"})}})}),Object(F.jsx)("div",{className:"topnav__right-item",children:Object(F.jsx)(L,{})})]})]}):Object(F.jsx)("div",{})})},le=a(27),oe=a(156),de=a.n(oe),je=(a(220),function(e){return Object(F.jsxs)("div",{className:"status-card",children:[Object(F.jsx)("div",{className:"status-card__icon",children:Object(F.jsx)("i",{className:e.icon})}),Object(F.jsxs)("div",{className:"status-card__info",children:[Object(F.jsx)("h4",{children:e.count}),Object(F.jsx)("span",{children:e.title})]})]})}),be=(a(221),a(423)),ue=a(427),he=a(426),me=a(421),Oe=a(424),xe=a(425),ve=a(422),ge="http://localhost:8080/api/auth/",fe=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"create",value:function(e){return g.a.post(ge+"action",e)}},{key:"findAll",value:function(){return g.a.get(ge+"action")}}]),e}()),pe={series:[{name:"nombre action ",data:[40,70,20,90,36,80,30,91,60]},{name:"nombre adherent ajout\xe9 ",data:[20,40,50,10,46,20,80,71,30]},{name:"nombre contrat sign\xe9",data:[40,30,20,60,40,16,40,20,51]}],options:{color:["#6ab04c","#2980b9"],chart:{background:"transparent"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]},legend:{position:"top"},grid:{show:!1}}};console.log(fe.findAll);var Ne=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(h.a)(s,2),i=(r[0],r[1]),l=Object(c.useState)(void 0),j=Object(h.a)(l,2),b=j[0],u=j[1],O=Object(c.useState)([]),x=Object(h.a)(O,2),v=x[0],f=x[1];Object(c.useEffect)((function(){var e=p.getCurrentUser();e&&(fe.findAll().then((function(e){f(e.data)})).catch((function(e){console.log(e)})),u(e),y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){n(e.data),i(!0)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){n(e.data)}))})))}),[]);var N=v.filter((function(e){return e.id_utili===b.id})),_=[{icon:"bx bx-bar-chart-alt",count:v.length,title:"nombres d'action "},{icon:"bx bx-bar-chart-alt",count:N.length,title:"action utilisateur"}];console.log();var C=Object(o.c)((function(e){return e.ThemeReducer.mode}));return Object(F.jsx)("div",{children:b?Object(F.jsxs)("div",{children:[Object(F.jsx)("h2",{className:"page-header",children:"tableau de bord"}),Object(F.jsxs)("div",{className:"row",children:[Object(F.jsx)("div",{className:"col-6",children:Object(F.jsx)("div",{className:"row",children:_.map((function(e,t){return Object(F.jsx)("div",{className:"col-6",children:Object(F.jsx)("a",{href:"Action/32143789900057",children:Object(F.jsx)(je,{icon:e.icon,count:e.count,title:e.title})})},t)}))})}),Object(F.jsx)("div",{className:"col-6",children:Object(F.jsx)("div",{className:"card full-height",children:Object(F.jsx)(de.a,{options:"theme-mode-dark"===C?Object(d.a)(Object(d.a)({},pe.options),{},{theme:{mode:"dark"}}):Object(d.a)(Object(d.a)({},pe.options),{},{theme:{mode:"light"}}),series:pe.series,type:"line",height:"100%"})})}),Object(F.jsx)("div",{className:"col-8",children:Object(F.jsxs)("div",{className:"card",children:[Object(F.jsx)("div",{className:"card__header",children:Object(F.jsx)("h3",{children:"Derni\xe8res Soci\xe9t\xe9s cr\xe9es"})}),Object(F.jsx)("div",{className:"card__body",children:Object(F.jsx)(me.a,{component:ve.a,children:Object(F.jsxs)(be.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(xe.a,{children:[Object(F.jsx)(he.a,{children:"siret"}),Object(F.jsx)(he.a,{align:"right",children:"nom_soc"}),Object(F.jsx)(he.a,{align:"right",children:"observation"}),Object(F.jsx)(he.a,{align:"right",children:"adresse postal"}),Object(F.jsx)(he.a,{align:"right",children:"date ajout\xe9"})]})}),Object(F.jsx)(ue.a,{children:a.map((function(e){return Object(F.jsxs)(xe.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(F.jsx)(he.a,{component:"th",scope:"row",children:e.siret}),Object(F.jsx)(he.a,{align:"right",children:e.nom_soc}),Object(F.jsx)(he.a,{align:"right",children:e.observation}),Object(F.jsx)(he.a,{align:"right",children:e.adresse_local}),Object(F.jsx)(he.a,{align:"right",children:e.createdAt})]},e.siret)}))})]})})}),Object(F.jsx)("div",{className:"card__footer",children:Object(F.jsx)(m.b,{to:"Societes",children:"view all"})})]})})]})]}):Object(F.jsx)("div",{className:"sidebar__item",children:Object(F.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ",children:[Object(F.jsx)("i",{class:"bx bxs-user-x"}),Object(F.jsx)("span",{children:"pas connecter"})]})})})},_e=a(47),ye=a.n(_e),Ce=a(18),Se=a.n(Ce),Ee=a(48),ke=a.n(Ee),Fe=a(157),Me=new(Object(x.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},this.vemail=function(e){if(!Object(Fe.isEmail)(e))return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},this.vrole=function(e){if(isNaN(e))return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid role."})},this.vusername=function(e){if(e.length<3||e.length>20)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},this.vpassword=function(e){if(e.length<6||e.length>40)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})}}))),Ie=(a(307),a(434)),Te=a(412),Pe=function(e){var t=Object(J.a)((function(e){return{table:{minWidth:200},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:950},tableHeaderCell:{fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.primary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,padding:"3px 10px",display:"inline-block"}}})),a=Object(c.useState)(""),s=Object(h.a)(a,2),r=(s[0],s[1],Object(c.useState)([])),i=Object(h.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)([]),j=Object(h.a)(d,2),b=j[0],m=j[1],O=Object(c.useRef)();O.current=b;var x=Object(c.useRef)(),v=Object(c.useRef)(),g=Me.vrole,f=Me.vusername,N=Me.vpassword,_=Me.vemail,C=Me.required,S=Object(c.useState)(""),E=Object(h.a)(S,2),k=E[0],M=E[1],I=Object(c.useState)(""),T=Object(h.a)(I,2),P=T[0],w=T[1],A=Object(c.useState)([]),R=Object(h.a)(A,2),Y=R[0],L=R[1],U=Object(c.useState)(""),B=Object(h.a)(U,2),D=B[0],q=B[1],H=Object(c.useState)(!1),W=Object(h.a)(H,2),te=W[0],ce=W[1],ne=Object(c.useState)(""),se=Object(h.a)(ne,2),re=se[0],ie=se[1];Object(c.useEffect)((function(){oe(),le()}),[]);var le=function(){y.getListe_User().then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};console.log(y.getListe_User());var oe=function(){p.get_historique_auth().then((function(e){m(e.data)})).catch((function(e){console.log(e)}))},de=t(),je=n.a.useState(0),be=Object(h.a)(je,2),ue=be[0],he=be[1],me=n.a.useState(10),Oe=Object(h.a)(me,2),xe=Oe[0],ve=Oe[1],ge=function(e,t){he(t)},fe=function(e){ve(+e.target.value),he(0)},pe=function(e){var t=e.target.value;L([].concat(Object(u.a)(Y),[t]))};return Object(F.jsxs)("div",{className:"col-md-12",children:[Object(F.jsx)("h1",{children:"gestion utilisateur"}),Object(F.jsx)("div",{className:"card card-container",children:Object(F.jsx)("div",{className:"list row",children:Object(F.jsxs)("div",{className:"col-md-12 list",children:[Object(F.jsx)("h3",{children:"Listes des Utilisateurs"}),Object(F.jsx)(V.a,{component:G.a,className:de.tableContainer,children:Object(F.jsxs)(z.a,{className:de.table,"aria-label":"simple table",children:[Object(F.jsx)(X.a,{children:Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"nom"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"email"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"password"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"Status"})]})}),Object(F.jsx)(Z.a,{children:l.slice(ue*xe,ue*xe+xe).map((function(e){return Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{children:Object(F.jsxs)($.a,{container:!0,children:[Object(F.jsx)($.a,{item:!0,lg:2,children:Object(F.jsx)(Ie.a,{alt:e.name,src:".",className:de.avatar})}),Object(F.jsxs)($.a,{item:!0,lg:10,children:[Object(F.jsx)(ee.a,{className:de.name,children:e.name}),Object(F.jsx)(ee.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(F.jsxs)(K.a,{children:[Object(F.jsx)(ee.a,{color:"primary",variant:"subtitle2",children:e.email}),Object(F.jsx)(ee.a,{color:"textSecondary",variant:"body2",children:e.company})]}),Object(F.jsx)(K.a,{children:"*********"}),Object(F.jsx)(K.a,{children:Object(F.jsx)(ee.a,{className:de.status,style:{backgroundColor:("Active"===e.status?"green":"Pending"===e.status&&"blue")||"Blocked"===e.status&&"orange"},children:e.status})})]},e.name)}))}),Object(F.jsx)(ae.a,{children:Object(F.jsx)(Te.a,{rowsPerPageOptions:[5,10,15],component:"div",count:l.length,rowsPerPage:xe,page:ue,onChangePage:ge,onChangeRowsPerPage:fe})})]})})]})})}),Object(F.jsx)("div",{className:"card card-container",children:Object(F.jsx)("div",{className:"list row",children:Object(F.jsxs)("div",{className:"col-md-12 list",children:[Object(F.jsx)("h3",{children:"Historique des Authentifications"}),Object(F.jsx)(V.a,{component:G.a,className:de.tableContainer,children:Object(F.jsxs)(z.a,{className:de.table,"aria-label":"simple table",children:[Object(F.jsx)(X.a,{children:Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"Username"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"Password"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"Message"}),Object(F.jsx)(K.a,{className:de.tableHeaderCell,children:"Date De Connection"})]})}),Object(F.jsx)(Z.a,{children:b.slice(ue*xe,ue*xe+xe).map((function(e){return Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(K.a,{children:Object(F.jsxs)($.a,{container:!0,children:[Object(F.jsx)($.a,{item:!0,lg:2,children:Object(F.jsx)(Ie.a,{alt:e.name,src:".",className:de.avatar})}),Object(F.jsxs)($.a,{item:!0,lg:10,children:[Object(F.jsx)(ee.a,{className:de.name,children:e.name}),Object(F.jsx)(ee.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(F.jsx)(K.a,{children:e.password}),Object(F.jsx)(K.a,{children:Object(F.jsx)(ee.a,{className:de.status,style:{backgroundColor:"connection etablie !"===e.message?"green":"connection echouer !"===e.message&&"red"},children:e.message})}),Object(F.jsx)(K.a,{children:Object(F.jsx)(ee.a,{color:"primary",variant:"subtitle2",children:e.date_connection})})]},e.name)}))}),Object(F.jsx)(ae.a,{children:Object(F.jsx)(Te.a,{rowsPerPageOptions:[5,10,15],component:"div",count:b.length,rowsPerPage:xe,page:ue,onChangePage:ge,onChangeRowsPerPage:fe})})]})})]})})}),Object(F.jsxs)("div",{className:"card card-container",children:[Object(F.jsx)("h3",{children:"Ajouter un utilisateur"}),Object(F.jsxs)(ye.a,{onSubmit:function(e){e.preventDefault(),ie(""),ce(!1),x.current.validateAll(),0===v.current.context._errors.length&&p.register(k,P,Y,D).then((function(e){ie(e.data.message),ce(!0)}),(function(e){console.log(Y);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();ie(t),ce(!1)}))},ref:x,children:[!te&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Username"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"username",value:k,onChange:function(e){var t=e.target.value;M(t)},validations:[C,f]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"email",children:"Email"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"email",value:P,onChange:function(e){var t=e.target.value;w(t)},validations:[C,_]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"password",children:"Password"}),Object(F.jsx)(Se.a,{type:"password",className:"form-control",name:"password",value:D,onChange:function(e){var t=e.target.value;q(t)},validations:[C,N]})]}),Object(F.jsxs)("div",{className:"form-check container",children:[Object(F.jsxs)("div",{className:"row",children:[Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"cemeca"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"cemeca",value:"1",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"sofitech"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"sofitech",value:"2",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin cemeca"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"admin_cemeca",value:"3",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin sofitech"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"admin_sofitech",value:"4",onChange:pe,validations:[C,g]})]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_cemeca"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_cemeca",value:"5",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_sofitech"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_sofitech",value:"6",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_admin1",value:"7",onChange:pe,validations:[C,g]}),Object(F.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin2"}),Object(F.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_admin2",value:"8",onChange:pe,validations:[C,g]})]}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("button",{className:"btn btn-primary btn-block",children:"Ajouter"})})]}),re&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:te?"alert alert-success":"alert alert-danger",role:"alert",children:re})}),Object(F.jsx)(ke.a,{style:{display:"none"},ref:v})]})]})]})},we=(a(158),function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})}),Ae=function(){var e=Object(le.f)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useState)(""),s=Object(h.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(h.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),u=Object(h.a)(b,2),m=u[0],O=u[1],x=Object(c.useState)(""),v=Object(h.a)(x,2),g=v[0],f=v[1],N=Object(c.useState)(""),_=Object(h.a)(N,2);_[0],_[1];return Object(F.jsx)("div",{className:"col-md-12",children:Object(F.jsx)("div",{className:"card card-container",children:Object(F.jsxs)(ye.a,{onSubmit:function(c){c.preventDefault(),f(""),O(!0),t.current.validateAll(),0===a.current.context._errors.length?p.login(r,d).then((function(){e.push("/"),window.location.reload(),p.create_historique_auth(r,"********","connection etablie !").then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();f(t)}))}),(function(e){p.create_historique_auth(r,d,"connection echouer !").then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();f(t)}));var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();O(!1),f(t)})):O(!1)},ref:t,children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Username"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"username",value:r,onChange:function(e){var t=e.target.value;i(t)},validations:[we]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"password",children:"Password"}),Object(F.jsx)(Se.a,{type:"password",className:"form-control",name:"password",value:d,onChange:function(e){var t=e.target.value;j(t)},validations:[we]})]}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsxs)("button",{className:"btn btn-primary btn-block",disabled:m,children:[m&&Object(F.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(F.jsx)("span",{children:"Login"})]})}),g&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(F.jsx)(ke.a,{style:{display:"none"},ref:a})]})})})},Re=a(5),Ye=a(416),Le=a(417),Ue=a(415),Be=a(428),De=a(413),qe=function(e){var t=Object(c.useState)(!1),a=Object(h.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(h.a)(r,2),l=i[0],o=i[1],j=Object(c.useRef)(),b=Object(c.useRef)(),u=Object(c.useState)([]),m=Object(h.a)(u,2),O=m[0],x=m[1],v=Object(c.useState)([]),f=Object(h.a)(v,2),N=f[0],_=f[1];Object(c.useEffect)((function(){p.getCurrentUser()&&(fe.findAll().then((function(e){_(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){x(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){x(e.data)}))})))}),[]);var C=p.getCurrentUser(),S=N.filter((function(e){return e.id_utili===C.id}));console.log(S);var E=Object(le.g)(),k=parseInt(E.id),M=O.filter((function(e){return e.siret===k}));console.log(M);var I=Object(c.useState)({initial1ctionState:{id_utili:"",nom_interlocuteur:"",type_action:"",nom_societe:"",description:"",date_action:"",date_rdv:""}}),T=Object(h.a)(I,2),P=T[0],w=T[1];console.log(k);var A=function(e){var t=e.target,a=t.name,c=t.value;w(Object(d.a)(Object(d.a)({},P),{},Object(Re.a)({},a,c)))};return Object(F.jsxs)("div",{className:"col-md-12",children:[Object(F.jsxs)("h3",{children:[Object(F.jsx)("i",{class:"bx bxs-bank danger"})," liste des actions"]}),Object(F.jsx)(me.a,{component:ve.a,children:Object(F.jsxs)(be.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(xe.a,{children:[Object(F.jsx)(he.a,{children:"nom societe"}),Object(F.jsx)(he.a,{align:"right",children:"date rdv"}),Object(F.jsx)(he.a,{align:"right",children:"nom_interlocuteur"}),Object(F.jsx)(he.a,{align:"right",children:"date_action"}),Object(F.jsx)(he.a,{align:"right",children:"type"})]})}),Object(F.jsx)(ue.a,{children:S.map((function(e){return Object(F.jsxs)(xe.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(F.jsx)(he.a,{component:"th",scope:"row",children:e.nom_societe}),Object(F.jsx)(he.a,{align:"right",children:e.date_rdv}),Object(F.jsx)(he.a,{align:"right",children:e.nom_interlocuteur}),Object(F.jsx)(he.a,{align:"right",children:e.date_action}),Object(F.jsx)(he.a,{align:"right",children:e.type_action})]},e.nom)}))})]})}),Object(F.jsx)("br",{}),Object(F.jsx)("h1",{children:"Ajouter une action"}),Object(F.jsxs)("div",{className:"card card-container",children:[M.map((function(e){return Object(F.jsxs)("h3",{children:[Object(F.jsx)("i",{class:"bx bxs-bank danger"}),"  ",e.nom_soc]})})),Object(F.jsxs)(ye.a,{onSubmit:function(e){var t={nom_interlocuteur:P.nom_interlocuteur,nom_societe:M[0].nom_soc,date_rdv:P.date_rdv,date_action:new Date,id_utili:C.id,type_action:P.type_action,description:P.description};e.preventDefault(),j.current.validateAll(),0===b.current.context._errors.length&&fe.create(t).then((function(e){w({nom_interlocuteur:e.data.nom_interlocuteur,nom_societe:e.data.nom_societe,date_rdv:e.data.date_rdv,date_action:e.data.date_action,id_utili:e.data.id_utili,type_action:e.data.type_action,description:e.data.description}),s(!0),o(e.data.message)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)})).catch((function(e){console.log(e)}))},ref:j,children:[!n&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"utlisateur"}),Object(F.jsx)(Be.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(F.jsx)(Ye.a,{id:"outlined-multiline-static",label:"utlisateur",multiline:!0,name:"id_utili",value:C.username,onChange:A})})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Date de l'action"}),Object(F.jsx)(Se.a,{type:"date",className:"form-control",name:"date_rdv",value:P.date_rdv,onChange:A})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"description"}),Object(F.jsx)(Be.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(F.jsx)(Ye.a,{id:"outlined-multiline-static",label:"description",multiline:!0,rows:7,name:"description",value:P.description,onChange:A})})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"email",children:"nom de l'interlocuteur"}),Object(F.jsx)(Be.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(F.jsx)(Ye.a,{id:"outlined-multiline-static",label:"nom de l'interlocuteur",multiline:!0,name:"nom_interlocuteur",value:P.nom_interlocuteur,onChange:A})})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"password",children:"type d'action"}),Object(F.jsxs)(Be.a,{fullWidth:!0,children:[Object(F.jsx)(Le.a,{id:"demo-simple-select-label",children:"Age"}),Object(F.jsxs)(De.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:P.type_action,label:"Age",name:"type_action",onChange:A,children:[Object(F.jsx)(Ue.a,{value:"RDV",children:"RDV"}),Object(F.jsx)(Ue.a,{value:"contact t\xe9l\xe9phonique",children:"contact t\xe9l\xe9phonique"}),Object(F.jsx)(Ue.a,{value:"contact teams",children:"contact teams"}),Object(F.jsx)(Ue.a,{value:"contact par courrier",children:"contact par courrier"})]})]})]}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("button",{className:"btn btn-primary btn-block",children:"Valider l'action"})})]}),l&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:l})}),Object(F.jsx)(ke.a,{style:{display:"none"},ref:b})]})]})]})},He={create:function(e){return g.a.post("http://localhost:8080/api/auth/ajouter",e)},findByTitle:function(e){return g.a.get("/Societes?siret=".concat(e))}},We=(a(311),new(Object(x.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},this.vsiret=function(e){if(isNaN(e)&&e.length<9&&e.length>13)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"siret invalide :(."})},this.vsiren=function(e){if(isNaN(e))return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid siren."})},this.vnom_soc=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom socit\xe9t\xe9 invalide !."})},this.vnom_responsable=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom responsable invalide !."})},this.vdate_creation_soc=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"date invalide !"})},this.vactivit\u00e9=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"activit\xe9 invalide !"})},this.vadresse=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"adresse invalide !"})},this.vpays=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"pays invalide !"})},this.cville=function(e){if(e.length<4||e.length>10)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"ville invalide !"})},this.vcode_postal=function(e){if(e.length<4||e.length>10)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"code postal invalide !"})},this.vopportunit\u00e9=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vobservation=function(e){if(e.length<4)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vtel=function(e){if(e.length<4||e.length>10)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"t\xe9lephone invalide !"})},this.vid_role=function(e){if(isNaN(e))return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"1 or 2."})}})))),Je=(a(312),a(160)),Ve=a.n(Je),Ge=function(){var e=We.required,t=We.vsiret,a=We.vsiren,n=We.vnom_soc,s=We.vnom_responsable,r=(We.vdate_creation_soc,We.vid_role),i=We.vcode_postal,l=We.vopportunit\u00e9,o=We.cville,j=We.vobservation,b=(We.vactivit\u00e9,We.vtel),u=We.vpays,m=We.vadresse,O=Object(c.useState)({initialSocieteState:{siret:"",siren:"",nom_soc:"",nom_responsable_soc:"",date_creation_soc:"",activite_soc:"",adresse_local:"",pays:"",ville_soc:"",code_postal:"",syndicat:"",observation:"",tel:"",app_sofitech:"",app_cemeca:"",soc_sofitech:"",soc_cemeca:"",id_role:""}}),x=Object(h.a)(O,2),v=x[0],f=x[1],p=Object(c.useState)(!1),N=Object(h.a)(p,2),_=N[0],y=N[1],C=Object(c.useState)(""),S=Object(h.a)(C,2),E=S[0],k=S[1],M=Object(c.useState)([]),I=Object(h.a)(M,2),T=I[0],P=I[1],w=Object(c.useRef)(),A=Object(c.useRef)();console.log("test",T);var R="https://entreprise.data.gouv.fr/api/sirene/v3/etablissements/?siret=",Y=String(v.siret);console.log(Y.length);var L=R+Y;console.log();var U=Object(c.useState)([]),B=Object(h.a)(U,2),D=B[0],q=B[1];Object(c.useEffect)((function(){}),[]);var H=function(e){var t=e.target,a=t.name,c=t.value;f(Object(d.a)(Object(d.a)({},v),{},Object(Re.a)({},a,c))),g.a.get(R+Y).then((function(e){q(e.data.etablissements)}))};return console.log(Y),console.log(L),console.log(D),Object(F.jsx)("div",{className:"submit-form",children:Object(F.jsxs)(ye.a,{onSubmit:function(e){var t=T.join(),a={siret:v.siret,siren:v.siren,nom_soc:v.nom_soc,nom_responsable_soc:v.nom_responsable_soc,date_creation_soc:v.date_creation_soc,activite_soc:v.activite_soc,adresse_local:v.adresse_local,pays:v.pays,ville_soc:v.ville_soc,code_postal:v.code_postal,syndicat:t,observation:v.observation,tel:v.tel,id_role:v.id_role,message:E.message,successful:_.successful};e.preventDefault(),w.current.validateAll(),0===A.current.context._errors.length&&He.create(a).then((function(e){f({siren:e.data.siren,siret:e.data.siret,nom_soc:e.data.nom_soc,nom_responsable_soc:e.data.nom_responsable_soc,activite_soc:e.data.activite_soc,adresse_local:e.data.adresse_local,pays:e.data.pays,ville_soc:e.data.ville_soc,code_postal:e.data.code_postal,syndicat:e.data.syndicat,observation:e.data.observation,tel:e.data.tel,date:e.data.date,id_role:e.data.id_role}),y(!0),k(e.data.message),console.log(v.syndicat,"syndicat")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t)})).catch((function(e){console.log(e)}))},ref:w,children:[!_&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"siret"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.siret,onChange:H,validations:[e,t],name:"siret"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"siren"}),D.map((function(t){return Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.siren=t.siren,onChange:H,validations:[e,a],name:"siren"})}))]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"nom de la societe"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.nom_soc,onChange:H,validations:[e,n],name:"nom_soc"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"nom du delegu\xe9"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.nom_responsable_soc,onChange:H,validations:[e,s],name:"nom_responsable_soc"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"code naf"}),D.map((function(t){return Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.activite_soc=t.activite_principale,onChange:H,validations:[e,j],name:"activite_soc"})}))]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"adresse_local"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.adresse_local,onChange:H,validations:[e,m],name:"adresse_local"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"pays"}),Object(F.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:"France",value:v.pays,onChange:H,validations:[e,u],name:"pays"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"ville_soc"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.ville_soc,onChange:H,validations:[e,o],name:"ville_soc"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"text",children:"code_postale"}),D.map((function(t){return Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.code_postal=t.code_postal,onChange:H,validations:[e,i],name:"code_postal"})}))]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"syndicat"}),Object(F.jsx)(Ve.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){P(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:[{TYPE:"FIM",NOM:"ARTEMA"},{TYPE:"FIM",NOM:"AXEMA"},{TYPE:"FIM",NOM:"EVOLIS"},{TYPE:"FIM",NOM:"FABRILABO"},{TYPE:"FIM",NOM:"FEDERATION FORGE FONDERIE"},{TYPE:"FIM",NOM:"FFMI"},{TYPE:"FIM",NOM:"FIM-AC"},{TYPE:"FIM",NOM:"FIM METAUX EN FEUILLES"},{TYPE:"FIM",NOM:"FIM RESSORTS"},{TYPE:"FIM",NOM:"PHOTONICS"},{TYPE:"FIM",NOM:"SIBCO"},{TYPE:"FIM",NOM:"SM"},{TYPE:"FIM",NOM:"SNCT"},{TYPE:"FIM",NOM:"SNDEC"},{TYPE:"FIM",NOM:"SNITEM"},{TYPE:"FIM",NOM:"SYMOP"},{TYPE:"FIM",NOM:"SYNEG"},{TYPE:"FIM",NOM:"UITS"},{TYPE:"FIM",NOM:"UNICLIMA"},{TYPE:"FIM",NOM:"UNIQ"},{TYPE:"FIM",NOM:"UNITAM"},{TYPE:"FIEEC",NOM:"ACN"},{TYPE:"FIEEC",NOM:"ACR"},{TYPE:"FIEEC",NOM:"ACSIEL"},{TYPE:"FIEEC",NOM:"AFNUM"},{TYPE:"FIEEC",NOM:"E-VISIONS"},{TYPE:"FIEEC",NOM:"FGME"},{TYPE:"FIEEC",NOM:"GIFAM"},{TYPE:"FIEEC",NOM:"GIL"},{TYPE:"FIEEC",NOM:"FFGME"},{TYPE:"FIEEC",NOM:"IGNES"},{TYPE:"FIEEC",NOM:"SER"},{TYPE:"FIEEC",NOM:"SIRMELEC"},{TYPE:"FIEEC",NOM:"SNESE"},{TYPE:"FIEEC",NOM:"SPAP"},{TYPE:"FIEEC",NOM:"SPDEI"},{TYPE:"FIEEC",NOM:"SYCABEL"},{TYPE:"FIEEC",NOM:"Syndicat de l'\xe9clairage"}],showCheckbox:!0})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"observation"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",defaultValue:"Thierry",value:v.observation,onChange:H,validations:[e,l],name:"observation"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"title",children:"telephone Societes"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.tel,onChange:H,validations:[e,b],name:"tel"})]}),Object(F.jsxs)("select",{validations:[e,r],value:v.id_role,onChange:H,name:"id_role",children:[Object(F.jsx)("option",{children:"select une valeur"}),Object(F.jsx)("option",{value:"1",children:"cemeca"}),Object(F.jsx)("option",{value:"2",children:"sofitech"})]}),Object(F.jsx)("button",{className:"btn btn-success",children:"Submit"})]}),E&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:_?"alert alert-success":"alert alert-danger",role:"alert",children:E})}),Object(F.jsx)(ke.a,{style:{display:"none"},ref:A})]})})},ze="http://localhost:8080/api/auth/",Xe=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"create",value:function(e){return g.a.post(ze+"interlocuteur",e)}},{key:"findAll",value:function(){return g.a.get(ze+"interlocuteur")}}]),e}()),Qe=function(e){var t=Object(c.useState)(!1),a=Object(h.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(h.a)(r,2),l=i[0],o=i[1],j=Object(c.useRef)(),b=Object(c.useRef)(),u=Object(c.useState)([]),m=Object(h.a)(u,2),O=m[0],x=m[1];Object(c.useEffect)((function(){P(),p.getCurrentUser()&&(y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){x(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){x(e.data)}))})))}),[]);var v=Object(le.g)(),f=parseInt(v.id),N=O.filter((function(e){return e.siret===f}));console.log(N);p.getCurrentUser();var _=Object(c.useState)({initialState:{nom:"",prenom:"",email:"",adresse:"",code_postale:"",tel:"",activite:"",id_soc:""}}),C=Object(h.a)(_,2),S=C[0],E=C[1],k=Object(c.useState)([]),M=Object(h.a)(k,2),I=M[0],T=M[1],P=function(){Xe.findAll().then((function(e){T(e.data)})).catch((function(e){console.log(e)}))};console.log(I.data);var w=function(e){var t=e.target,a=t.name,c=t.value;E(Object(d.a)(Object(d.a)({},S),{},Object(Re.a)({},a,c)))};return Object(F.jsxs)("div",{className:"col-md-12",children:[Object(F.jsx)("h1",{children:"Ajouter un interlocuteur"}),Object(F.jsxs)("div",{className:"card card-container",children:["liste interlocuteur",Object(F.jsx)(me.a,{component:ve.a,children:Object(F.jsxs)(be.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(xe.a,{children:[Object(F.jsx)(he.a,{children:"nom"}),Object(F.jsx)(he.a,{align:"right",children:"prenom"}),Object(F.jsx)(he.a,{align:"right",children:"fonction"}),Object(F.jsx)(he.a,{align:"right",children:"adresse postal"}),Object(F.jsx)(he.a,{align:"right",children:"telephone"})]})}),Object(F.jsx)(ue.a,{})]})}),Object(F.jsxs)(ye.a,{onSubmit:function(e){var t={nom:S.nom,prenom:S.prenom,email:S.email,adresse:S.adresse,code_postale:S.code_postale,tel:S.tel,fonction_inter:S.fonction_inter,id_soc:f};e.preventDefault(),j.current.validateAll(),0===b.current.context._errors.length&&Xe.create(t).then((function(e){E({nom:e.data.nom,prenom:e.data.prenom,email:e.data.email,adresse:e.data.adresse,code_postale:e.data.code_postale,tel:e.data.tel,fonction_inter:e.data.fonction_inter,id_soc:e.data.id_soc}),s(!0),o(e.data.message)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)})).catch((function(e){console.log(e)}))},ref:j,children:[!n&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"nom"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"nom",value:S.nom,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"prenom"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"prenom",value:S.prenom,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"email"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"email",value:S.email,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"adresse"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"adresse",value:S.adresse,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"code postal"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"code_postale",value:S.code_postale,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"email",children:"tel"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"tel",value:S.tel,onChange:w})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"email",children:"fonction"}),Object(F.jsx)(Se.a,{type:"text",className:"form-control",name:"fonction_inter",value:S.fonction_inter,onChange:w})]}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("button",{className:"btn btn-primary btn-block",children:"Valider l'action"})})]}),l&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:l})}),Object(F.jsx)(ke.a,{style:{display:"none"},ref:b})]})]})]})},Ke=a(432),Ze=a(433),$e=a(431),et=a(429),tt=a(419),at=a(430);var ct=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)([]),i=Object(h.a)(r,2),l=i[0],o=i[1],d=Object(le.g)(),j=parseInt(d.id),b=l.filter((function(e){return e.id_soc===j})),u=p.getCurrentUser(),m=a.filter((function(e){return e.siret===j}));Object(c.useEffect)((function(){u&&(Xe.findAll().then((function(e){g.a.get("http://localhost:8080/api/auth/interlocuteur").then((function(e){o(e.data),console.log(e.data)}))})),y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){s(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){s(e.data)}))})))}),[]);var O=Object(F.jsxs)(n.a.Fragment,{children:[m.map((function(e){return Object(F.jsxs)(et.a,{children:[Object(F.jsxs)(at.a,{variant:"h5",component:"div",children:[Object(F.jsx)("i",{class:"bx bxs-bank danger"}),": ",e.nom_soc]}),Object(F.jsxs)(at.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["siret : ",e.siret]}),Object(F.jsxs)(at.a,{variant:"body2",children:["siren : ",e.siren]}),Object(F.jsxs)(at.a,{sx:{mb:1.5},color:"text.secondary",children:["date de creation : ",e.date_creation_soc]}),Object(F.jsxs)(at.a,{variant:"body2",children:["date enregistr\xe9 : ",e.createdAt]}),Object(F.jsxs)(at.a,{variant:"body2",children:["description:",e.observation]}),Object(F.jsxs)(at.a,{variant:"body2",children:["code naf : ",e.activite_soc]}),Object(F.jsxs)(at.a,{variant:"body2",children:["nom r\xe9sponsable : ",e.nom_responsable_soc]}),Object(F.jsxs)(at.a,{variant:"body2",children:["adresse postal  : ",e.adresse_local," ",e.ville_soc," ",e.code_postal]}),Object(F.jsxs)(at.a,{variant:"body2",children:["syndicat : ",e.syndicat]}),Object(F.jsxs)(at.a,{variant:"body2",children:["observation : ",e.observation]}),Object(F.jsxs)(at.a,{variant:"body2",children:["telephone : ",e.tel]}),Object(F.jsxs)(at.a,{variant:"body2",children:["les interlocuteurs ratacher a cette societe",b.map((function(e,t){return Object(F.jsxs)(at.a,{variant:"body2",children:[Object(F.jsx)("i",{class:"bx bxs-user"})," ",e.nom]},t)}))]})]})})),Object(F.jsx)($e.a,{children:Object(F.jsx)(tt.a,{size:"small",children:"modification"})})]});return Object(F.jsx)(Ke.a,{sx:{minWidth:275},children:Object(F.jsx)(Ze.a,{variant:"outlined",children:O})})},nt=function(){var e=p.getCurrentUser();return Object(F.jsxs)(le.c,{children:[Object(F.jsx)(le.a,{path:"/",exact:!0,component:Ne}),e?Object(F.jsx)(le.a,{path:"/Action/:id",component:qe}):null,Object(F.jsx)(le.a,{path:"/Societes",component:ne}),Object(F.jsx)(le.a,{path:"/Societe/:id",component:ct}),Object(F.jsx)(le.a,{path:"/Interlocuteur/:id",component:Qe}),Object(F.jsx)(le.a,{path:"/ajouter",component:Ge}),Object(F.jsx)(le.a,{path:"/register",component:Pe}),Object(F.jsx)(le.a,{path:"/Login",component:Ae}),Object(F.jsx)(le.a,{path:"/Interlocuteur",component:Qe})]})},st=function(){var e=Object(o.c)((function(e){return e.ThemeReducer})),t=Object(o.b)();return Object(c.useEffect)((function(){var e=localStorage.getItem("themeMode","theme-mode-light"),a=localStorage.getItem("colorMode","theme-mode-light");t(A.setMode(e)),t(A.setColor(a))}),[t]),Object(F.jsx)(m.a,{children:Object(F.jsx)(le.a,{render:function(t){return Object(F.jsxs)("div",{className:"layout ".concat(e.mode," ").concat(e.color),children:[Object(F.jsx)(P,Object(d.a)({},t)),Object(F.jsxs)("div",{className:"layout__content",children:[Object(F.jsx)(ie,{}),Object(F.jsx)("div",{className:"layout__content-main",children:Object(F.jsx)(nt,{})})]})]})}})})},rt=Object(l.b)(b);document.title="CRM SOFITECH/CEMECA",r.a.render(Object(F.jsx)(o.a,{store:rt,children:Object(F.jsx)(st,{})}),document.getElementById("root")),i()}},[[314,1,2]]]);
//# sourceMappingURL=main.4db63c81.chunk.js.map